(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[212],{742:function(e,t,a){Promise.resolve().then(a.bind(a,8009))},8009:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var r=a(7437),o=a(2265);function n(){let[e,t]=(0,o.useState)({fromLocation:"",toLocation:"",departureTime:"",vehicleType:"Car",totalSeats:1}),[a,n]=(0,o.useState)(!1),[i,l]=(0,o.useState)(null);async function s(a){a.preventDefault(),n(!0),l(null);try{let a=await fetch("/api/rides",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e})}),r=await a.json();if(!a.ok)throw Error(r.error||"Failed");l("Ride created!"),t({fromLocation:"",toLocation:"",departureTime:"",vehicleType:"Car",totalSeats:1})}catch(e){l(e.message)}finally{n(!1)}}return(0,r.jsxs)("main",{className:"mx-auto max-w-2xl p-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:"Offer a ride"}),(0,r.jsxs)("form",{onSubmit:s,className:"mt-4 grid gap-4",children:[(0,r.jsx)("input",{className:"rounded border p-2",placeholder:"From",value:e.fromLocation,onChange:e=>t(t=>({...t,fromLocation:e.target.value})),required:!0}),(0,r.jsx)("input",{className:"rounded border p-2",placeholder:"To",value:e.toLocation,onChange:e=>t(t=>({...t,toLocation:e.target.value})),required:!0}),(0,r.jsx)("input",{className:"rounded border p-2",type:"datetime-local",value:e.departureTime,onChange:e=>t(t=>({...t,departureTime:e.target.value})),required:!0}),(0,r.jsxs)("select",{className:"rounded border p-2",value:e.vehicleType,onChange:e=>t(t=>({...t,vehicleType:e.target.value})),children:[(0,r.jsx)("option",{children:"Car"}),(0,r.jsx)("option",{children:"Bike"}),(0,r.jsx)("option",{children:"Cab"})]}),(0,r.jsx)("input",{className:"rounded border p-2",type:"number",min:1,max:6,value:e.totalSeats,onChange:e=>t(t=>({...t,totalSeats:Number(e.target.value)}))}),(0,r.jsx)("button",{disabled:a,className:"rounded bg-blue-600 px-4 py-2 text-white disabled:opacity-50",children:a?"Creating...":"Create ride"})]}),i&&(0,r.jsx)("p",{className:"mt-3 text-sm text-gray-700",children:i})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=742)}),_N_E=e.O()}]);